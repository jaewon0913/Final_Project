<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="boxordermapper">
	
	<select id = "selectOne" parameterType="map"  resultType = "boxorderdto">
		SELECT * FROM BOXORDER WHERE MEMBER_ID = #{member_id} AND ORDERNUMBER = #{ordernumber}
	</select>
	
	<insert id="dosirakinsert" parameterType="boxorderdto">
		INSERT INTO BOXORDER 
		VALUES(ORDERSEQ.NEXTVAL,#{ordernumber},#{member_id},#{member_name},#{member_level},#{dosirak_title},
		#{dosirak_delivery},NULL,NULL,NULL,NULL,NULL,NULL,NULL,#{tan},#{dan},#{gi},#{kcal},#{price},SYSDATE,#{qrcode},'N','N')
	</insert>
	
	<update id="receiveUpdate" parameterType="map">
		UPDATE BOXORDER SET RECEIVECHK = 'Y' WHERE MEMBER_ID=#{member_id} AND ORDERNUMBER=#{ordernumber}
	</update>
	
	<select id="qrcodeSelect" parameterType="map" resultType="boxorderdto">
		SELECT * FROM BOXORDER WHERE MEMBER_ID=#{member_id} AND RECEIVECHK='N'
	</select>
</mapper>
