<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="noticeboard">

	<select id = "NoticeSelectlist" resultType="NoticeDto">
		SELECT 
			NOTICE_POSTNUM,
			MEMBER_ID,
			NOTICE_TITLE,
			NOTICE_REGDATE,
			NOTICE_VIEWS
		FROM NOTICEBOARD
	
	</select>
	
	<select id = "NoticeSelectOne" parameterType="map" resultType="NoticeDto">
		SELECT 
			NOTICE_POSTNUM,
			MEMBER_ID,
			NOTICE_TITLE,
			NOTICE_CONTENT,
			NOTICE_REGDATE,
			NOTICE_VIEWS
		FROM NOTICEBOARD
		WHERE NOTICE_POSTNUM = #{notice_postnum}
	</select>
	
	<insert id = "NoticeInsert" parameterType="NoticeDto">
	INSERT INTO NOTICEBOARD 
	VALUES (
			NOTICESEQ.NEXTVAL,
			#{ member_id},
		    #{ notice_title},
			#{ notice_content},
			SYSDATE,
			0
		)	
	
	</insert>
	
	<update id = "NoticeUpdate" parameterType="NoticeDto">
		UPDATE NOTICEBOARD 
		SET
			 NOTICE_TITLE = #{notice_title},
			 NOTICE_CONTENT = #{notice_content}
		WHERE NOTICE_POSTNUM = #{notice_postnum} 
	</update>
	
	<delete id = "NoticeDelete" parameterType="int">
		DELETE FROM NOTICEBOARD WHERE NOTICE_POSTNUM = #{notice_postnum} 
	</delete>
	
	<update id="NoticeViews">
		UPDATE NOTICEBOARD 
		SET
			NOTICE_VIEWS = NOTICE_VIEWS + 1
		 WHERE NOTICE_POSTNUM = #{notice_postnum} 
		 
	</update>


 
</mapper>
